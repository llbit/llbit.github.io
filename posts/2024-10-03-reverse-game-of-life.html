<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Reversing Conway's Game of Life</title>
<link rel="icon" href="/favicon.ico" sizes="16x16" type="image/vnd.microsoft.icon">
<link href="/assets/style.css" rel="stylesheet" type="text/css">
<link href="/assets/highlight.css" rel="stylesheet" type="text/css">
<meta name="LifeViewer" content="viewer textarea">
    <script src='/assets/js/lv-plugin.js'></script>
</head>
<a name="top"></a>
<body>
    <header id="header">
        <div class="column">
        <a href="/" id="site-title">Low-Level Bits</a>
        </div>
    </header>
    <div class="column">
        <main>
          <h1>Reversing Conway's Game of Life</h1>
<!-- date={2024-10-03} -->
<!-- life-viewer -->

<p>A few days ago the YouTube channel <a href="https://youtu.be/g8pjrVbdafY?feature=shared">Alpha Phoenix uploaded a
video about running Conway's Game of Life backwards.</a> It's a great video,
but the solution Alpha Phoenix used was based on using a constraint solver and
it inspired me to try implementing my own solver for reverse Game of Life to see how a backtracking search would perform in comparison.
So I wrote a backtracking search solution in Julia. It runs pretty quickly on small inputs but gets exponentially slower for larger inputs.</p>
<p>Here is an example of one of my test cases:</p>
<div class="viewer">
<textarea style="display:none">#C [[ GRID COLOR GRID 192 192 192 GRIDMAJOR 10 COLOR GRIDMAJOR 128 128 128 COLOR DEADRAMP 16 16 16 COLOR ALIVE 145 32 32 COLOR ALIVERAMP 16 16 16 COLOR DEAD 16 16 16 COLOR BACKGROUND 16 16 16 WIDTH 937 HEIGHT 600 AUTOSTART GPS 1 LOOP 6 ]]
x = 0, y = 0, rule = B3/S23
18b$bo3bo3bo8b$3bo4bo2bob2obob$2b2obobo2b3o5b$bobo4bo2bobobo2b$3b2ob3o4bobo2b$2b2o7bo2bo3b$2b3obo4bob2obob$5b2ob4o3bo2b$2b3o4bo2b2ob2ob$3b2o6bo3b2ob$2b4ob2o2bobobo2b$3bobob4o2bobo2b$3bo4bo9b$bo3bobo3bobobo2b$18b$!
</textarea><br/>
<canvas></canvas>
</div>

<p>The largest test I did so far was a rasterization of the text <code>REVERSE</code>. My implementation only managed to run it 3 steps backwards and got stuck on the 4th step:</p>
<div class="viewer">
<textarea style="display:none">#C [[ GRID COLOR GRID 192 192 192 GRIDMAJOR 10 COLOR GRIDMAJOR 128 128 128 COLOR DEADRAMP 16 16 16 COLOR ALIVE 145 32 32 COLOR ALIVERAMP 16 16 16 COLOR DEAD 16 16 16 COLOR BACKGROUND 16 16 16 WIDTH 937 HEIGHT 600 AUTOSTART GPS 1 LOOP 6 ]]
x = 0, y = 0, rule = B3/S23
56b$2bobobo8b2obobo3b3o6bo4bo3b2obo10b$2bobobo6b5o4b7ob2o3b2o9bob2ob2o3b$3bo4bobo2bobob2obo3bo3b2o3bo2b2obobob2obob3o2bo2b$bob2obobo2b3o2bobobo6b2obob2o7bob2o4bobo4b$3bo5b2o2bo11bobo2bob2o4bo5bo3b2ob3o2b$2b3o5bo3bo2bo4b3ob2obobob3ob2ob3o2b2o5bo3b$3bo3bobobob7o4b2o10b4ob2o3bobo4bo2b$4bo6b2o2bo2bob2o3bo5b3o9bo3bo2b4o2b$bo3bobo3b2o6bo5bo2bobob3ob2ob2obob2obo2bob3ob$bobo2b3o5bobob5ob2ob2o2b3o2b2ob2obob5o3b3ob$7b2o7bob2o9bobo8bo7b2o3bo2b$4b2o4b2o9bob2obo2bobo2bobobo2bob2o9bob$56b$!
</textarea><br/>
<canvas></canvas>
</div>

<p>The problem with my solutions is that they grow in size, each predecessor state requires searching over more pixels which slows down the search a lot. For the <code>REVERSE</code> example the 3rd step took 15 seconds but the 4th step did not complete: I stopped it after more than 4 hours.</p>
<p>Update: I rewrote and optimized my search function and finally the 4th iteration of the <code>REVERSE</code> example finished without a solution after 15 hours.
If my code is correct the 3rd iteration shown above is <a href="https://conwaylife.com/wiki/Garden_of_Eden">a so-called Garden of Eden</a>, that is, a game state which has no predecessors.</p>
<h2>Julia Code</h2>
<p>Anyway here is my Julia code if you want to try it for yourself: <a href="https://gist.github.com/llbit/540cec80e69809638774f78652abcaaf">life.jl</a></p>
<p>This script expects a file named <code>big_reverse.txt</code> in the working directory containing a text representation of a Game of Life board where <code>#</code> denotes a living cell (all other non-newline characters are treated as dead). For example:</p>
<div class="codehilite"><pre><span></span><code>    ..................................................
    .#####  ###### #    # ###### #####   ####  ######.
    .#    # #      #    # #      #    # #      #     .
    .#    # #####  #    # #####  #    #  ####  ##### .
    .#####  #      #    # #      #####       # #     .
    .#   #  #       #  #  #      #   #  #    # #     .
    .#    # ######   ##   ###### #    #  ####  ######.
    ..................................................
</code></pre></div>

<h2>C Code</h2>
<p>Link to C version: <a href="https://gist.github.com/llbit/c3d9604383696aefcfdd84f7487e7783">life.c</a></p>
        </main>
        <footer>Posted on 2024-10-03<br/>Copyright &copy; Jesper Ã–qvist</footer>
    </div>
  </table>
</body>
</html>